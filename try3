import org.w3c.dom.*;
import javax.xml.transform.*;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;

public class DOMElementToString {
    public static void main(String[] args) {
        try {
            // Create a new DOM Document (you can load your XML data here)
            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
            DocumentBuilder builder = factory.newDocumentBuilder();
            Document document = builder.newDocument();

            // Create a sample DOM element with nested elements
            Element rootElement = document.createElement("RootElement");
            document.appendChild(rootElement);

            Element childElement = document.createElement("ChildElement");
            rootElement.appendChild(childElement);

            Element nestedElement = document.createElement("NestedElement");
            nestedElement.appendChild(document.createTextNode("This is nested text."));
            childElement.appendChild(nestedElement);

            // Copy the entire DOM element to a string
            String elementString = elementToString(rootElement);

            // Print the string representation of the DOM element
            System.out.println(elementString);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static String elementToString(Element element) {
        try {
            TransformerFactory tf = TransformerFactory.newInstance();
            Transformer transformer = tf.newTransformer();
            transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "yes");
            StringWriter writer = new StringWriter();
            transformer.transform(new DOMSource(element), new StreamResult(writer));
            return writer.getBuffer().toString();
        } catch (TransformerException e) {
            e.printStackTrace();
            return null;
        }
    }
}
